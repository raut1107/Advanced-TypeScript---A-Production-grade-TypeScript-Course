Using keyof and in with Mapped Types

Weâ€™ve seen that mapped types let us create new object types by looping over a union of keys.
Now letâ€™s explore how the keyof and in operators work together to make this possible.

ğŸ’¡ The Core Idea

The keyof operator takes an object type and gives you a union of its keys.

The in keyword allows you to loop over that union to create a new type.

You can then transform the value type of each property during this mapping.

ğŸ§± Example: Making All Properties Nullable

Letâ€™s start with a simple type:

type Car = {
  model: string;
  year: number;
};


Now, suppose you want a new type where every property can also be null.
You could manually write:

type NullableCarManual = {
  model: string | null;
  year: number | null;
};


â€¦but thatâ€™s repetitive and not scalable. Letâ€™s automate it!

âš™ï¸ Using a Mapped Type

We can create a generic mapped type to do this transformation:

type NullableCar = {
  [Prop in keyof Car]: Car[Prop] | null;
};


âœ… Hereâ€™s whatâ€™s happening:

keyof Car â†’ gives the union "model" | "year".

Prop in keyof Car â†’ loops through each key ("model", then "year").

On the right side, Car[Prop] â†’ retrieves the type of that property (like string or number).

We then add | null â†’ making each property nullable.

If you hover over NullableCar, TypeScript shows:

type NullableCar = {
  model: string | null;
  year: number | null;
}


ğŸ¯ Boom â€” a fully transformed type with no manual repetition!

ğŸ§  Key Concepts
Concept	Meaning
keyof Car	Creates a union of all property keys in Car (`"model"
in	Loops through each member of that union
Car[Prop]	Accesses the type of the property currently being iterated
`	null`
ğŸ§© Summary

keyof extracts all the keys of an object as a union.

in lets you iterate over that union inside a mapped type.

The right-hand side lets you transform the value type â€” adding null, changing it, or even nesting it.

Together, they make TypeScriptâ€™s mapped types a powerful transformation tool.

So in short:

keyof gives you the keys,
in loops over them,
and the mapped type lets you reshape your objectâ€™s structure in one clean step.